<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VisionSafe - Road Safety Monitor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Nunito', sans-serif;
        }

        body {
            background-color: #fefefe;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background-color: #fff;
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo img {
            width: 48px;
            height: 48px;
            margin-right: 10px;
        }

        .logo h1 {
            font-family: 'Outfit', sans-serif;
            font-size: 24px;
            font-weight: 700;
            color: #000;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 30px;
        }

        nav ul li a {
            text-decoration: none;
            color: #73737d;
            font-size: 16px;
            transition: color 0.3s;
        }

        nav ul li a:hover {
            color: #000;
        }

        .nav-button {
            background-color: #000;
            color: #fff;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: 600;
        }

        /* Hero Section */
        .hero {
            padding: 200px 0 100px;
            text-align: center;
            background: linear-gradient(to bottom, #fefefe, #f0f0f0);
        }

        .hero h2 {
            font-family: 'Playfair Display', serif;
            font-size: 65px;
            font-weight: 600;
            line-height: 1.2;
            margin-bottom: 30px;
            color: #1b1b22;
        }

        .hero p {
            font-size: 21px;
            color: #6e6c70;
            max-width: 800px;
            margin: 0 auto 40px;
        }

        .video-container {
            position: relative;
            width: 100%;
            max-width: 1000px;
            margin: 50px auto 0;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            background-color: #000;
        }

        #video {
            width: 100%;
            display: block;
        }

        #canvas {
            display: none;
        }

        #output {
            width: 100%;
            display: block;
        }

        /* Features Section */
        .features {
            padding: 100px 0;
            background-color: #fff;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 56px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 80px;
            color: #1c1c22;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .feature-card {
            background-color: #f9f9f9;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
        }

        .feature-card h3 {
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #1f1f1f;
        }

        .feature-card p {
            color: #6e6c70;
            font-size: 18px;
        }

        /* Camera Section */
        .camera-section {
            padding: 100px 0;
            background-color: #f5f5f5;
        }

        .camera-content {
            display: flex;
            align-items: center;
            gap: 50px;
        }

        .camera-text {
            flex: 1;
        }

        .camera-text h3 {
            font-family: 'Playfair Display', serif;
            font-size: 42px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #1f1f1f;
        }

        .camera-text p {
            font-size: 18px;
            color: #6e6c70;
            margin-bottom: 30px;
        }

        .camera-image {
            flex: 1;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .camera-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        .switch-button {
            background-color: #000;
            color: #fff;
            padding: 15px 30px;
            border-radius: 10px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .switch-button:hover {
            background-color: #333;
        }

        /* Stats Section */
        .stats {
            padding: 100px 0;
            background-color: #232327;
            color: #fff;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            text-align: center;
        }

        .stat-item h4 {
            font-family: 'Playfair Display', serif;
            font-size: 48px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .stat-item p {
            font-size: 18px;
            color: #b6b6b6;
        }

        /* CTA Section */
        .cta {
            padding: 100px 0;
            text-align: center;
            background-color: #f9f9f9;
        }

        .cta h3 {
            font-family: 'Playfair Display', serif;
            font-size: 48px;
            font-weight: 600;
            margin-bottom: 30px;
            color: #1f1f1f;
        }

        .cta p {
            font-size: 20px;
            color: #6e6c70;
            max-width: 700px;
            margin: 0 auto 40px;
        }

        .cta-button {
            background-color: #000;
            color: #fff;
            padding: 15px 40px;
            border-radius: 10px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            font-size: 18px;
            transition: background-color 0.3s;
        }

        .cta-button:hover {
            background-color: #333;
        }

        /* Footer */
        footer {
            background-color: #29292b;
            color: #bababa;
            padding: 60px 0 30px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 40px;
            margin-bottom: 50px;
        }

        .footer-column h5 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #f7f7f7;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 15px;
        }

        .footer-column ul li a {
            color: #bababa;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-column ul li a:hover {
            color: #fff;
        }

        .footer-bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 30px;
            border-top: 1px solid #444;
        }

        .footer-logo {
            display: flex;
            align-items: center;
        }

        .footer-logo img {
            width: 60px;
            height: 60px;
            margin-right: 15px;
        }

        .footer-logo span {
            font-family: 'Outfit', sans-serif;
            font-size: 20px;
            font-weight: 700;
            color: #fff;
        }

        .copyright {
            font-size: 14px;
        }

        /* Responsive Styles */
        @media (max-width: 1024px) {
            .hero h2 {
                font-size: 48px;
            }

            .section-title {
                font-size: 42px;
            }

            .camera-content {
                flex-direction: column;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
            }

            nav ul {
                margin-top: 20px;
                flex-wrap: wrap;
                justify-content: center;
            }

            nav ul li {
                margin: 0 15px 10px;
            }

            .hero {
                padding: 150px 0 80px;
            }

            .hero h2 {
                font-size: 36px;
            }

            .section-title {
                font-size: 36px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .footer-content {
                grid-template-columns: 1fr;
            }

            .footer-bottom {
                flex-direction: column;
                text-align: center;
            }

            .footer-logo {
                margin-bottom: 20px;
            }
        }
    </style>
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700&family=Outfit:wght@700&family=Playfair+Display:wght@600&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="https://via.placeholder.com/48" alt="VisionSafe Logo">
                    <h1>VisionSafe</h1>
                </div>
                <nav>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#products">Products</a></li>
                        <li><a href="#contact">Contact</a></li>
                        <li><a href="#faq" class="nav-button">FAQ</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <h2>Empower Safer Driving with YOLOv8 Road Safety</h2>
            <p>Harness the power of AI to detect erratic driving behaviors from live webcam feeds. Our cutting-edge
                YOLOv8 Road Safety Monitor app provides real-time alerts, empowering you to stay safe on the roads.</p>
            <button class="switch-button" id="switchCamera">Switch Camera View</button>
            <div class="video-container">
                <video id="video" autoplay muted playsinline></video>
                <canvas id="canvas" style="display: none;"></canvas>
                <img id="output" alt="Detection output" />
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <h2 class="section-title">Revolutionize Your Driving Experience</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <img src="https://via.placeholder.com/80" alt="Feature Icon" class="feature-icon">
                    <h3>Switch Views</h3>
                    <p>Seamlessly toggle between front and rear camera feeds to gain a comprehensive understanding of
                        your driving environment.</p>
                </div>
                <div class="feature-card">
                    <img src="https://via.placeholder.com/80" alt="Feature Icon" class="feature-icon">
                    <h3>Real-time Alerts</h3>
                    <p>Get immediate notifications when erratic driving behavior is detected, allowing you to take
                        corrective action.</p>
                </div>
                <div class="feature-card">
                    <img src="https://via.placeholder.com/80" alt="Feature Icon" class="feature-icon">
                    <h3>Comprehensive Analytics</h3>
                    <p>Review detailed driving analytics to identify patterns and improve your driving habits over time.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Camera Section -->
    <section class="camera-section">
        <div class="container">
            <div class="camera-content">
                <div class="camera-text">
                    <h3>Cutting-Edge Road Safety Monitoring</h3>
                    <p>Leverage the latest computer vision technology to keep an eye on the road. Our YOLOv8-based app
                        tracks driver behavior, providing early warnings to help prevent accidents and promote safer
                        driving habits.</p>
                    <button class="switch-button" id="startMonitoring">Start Monitoring</button>
                </div>
                <div class="camera-image">
                    <img id="processedImage" src="" alt="Processed Camera Feed">
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-item">
                    <h4>98%</h4>
                    <p>Detection Accuracy</p>
                </div>
                <div class="stat-item">
                    <h4>24/7</h4>
                    <p>Real-time Monitoring</p>
                </div>
                <div class="stat-item">
                    <h4>500ms</h4>
                    <p>Alert Response Time</p>
                </div>
                <div class="stat-item">
                    <h4>10K+</h4>
                    <p>Drivers Protected</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta">
        <div class="container">
            <h3>Join the Movement for Safer Driving</h3>
            <p>Discover how our advanced YOLOv8 technology can transform your driving experience. With our powerful road
                safety monitoring app, you'll gain valuable insights to make informed decisions and keep yourself and
                others protected on the road.</p>
            <button class="cta-button">Download Now</button>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h5>Explore</h5>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#features">Features</a></li>
                        <li><a href="#partners">Partners</a></li>
                        <li><a href="#download">Download</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h5>Learn</h5>
                    <ul>
                        <li><a href="#faq">FAQ</a></li>
                        <li><a href="#blog">Blog</a></li>
                        <li><a href="#careers">Careers</a></li>
                        <li><a href="#press">Press</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h5>Connect</h5>
                    <ul>
                        <li><a href="#twitter">Twitter</a></li>
                        <li><a href="#facebook">Facebook</a></li>
                        <li><a href="#instagram">Instagram</a></li>
                        <li><a href="#linkedin">LinkedIn</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h5>Company</h5>
                    <ul>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#contact">Contact</a></li>
                        <li><a href="#privacy">Privacy Policy</a></li>
                        <li><a href="#terms">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-logo">
                    <img src="https://via.placeholder.com/60" alt="VisionSafe Logo">
                    <span>VisionSafe</span>
                </div>
                <div class="copyright">© 2025 VisionSafe, Inc. All rights reserved.</div>
            </div>
        </div>
    </footer>

    <!-- Include the external JavaScript file -->
    <script src="{{ url_for('static', filename='webcam.js') }}"></script>
    <script>
        // Additional functionality that needs to interact with the DOM
        document.addEventListener('DOMContentLoaded', () => {
            const startBtn = document.getElementById('startMonitoring');
            let isMonitoring = false;
            let detectionInterval;

            startBtn.addEventListener('click', () => {
                isMonitoring = !isMonitoring;
                startBtn.textContent = isMonitoring ? 'Stop Monitoring' : 'Start Monitoring';

                if (isMonitoring) {
                    // Start sending frames for detection
                    detectionInterval = setInterval(() => {
                        const canvas = document.getElementById('canvas');
                        const video = document.getElementById('video');
                        const ctx = canvas.getContext('2d');

                        if (video.videoWidth && video.videoHeight) {
                            canvas.width = video.videoWidth;
                            canvas.height = video.videoHeight;
                            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
                            const imageData = canvas.toDataURL('image/jpeg');

                            fetch('/detect', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify({ image: imageData })
                            })
                                .then(res => res.json())
                                .then(data => {
                                    document.getElementById('output').src = data.image;
                                    document.getElementById('processedImage').src = data.image;
                                });
                        }
                    }, 200); // 5 FPS
                } else {
                    clearInterval(detectionInterval);
                }
            });
        });
    </script>
</body>

</html>